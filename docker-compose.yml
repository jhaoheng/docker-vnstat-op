version: '3'
services:
  vnstat-dashboard:
    build: .
    network_mode: "host"
    container_name: vnstat-dashboard
    volumes:
          - /var/lib/vnstat:/var/lib/vnstat
          - /usr/bin/vnstat:/usr/bin/vnstat
          - /etc/localtime:/etc/localtime:ro
          - /var/run/docker.sock:/var/run/docker.sock
          - ./app:/var/www/html/vnstat/

  # Because `vnstat-dashboard` need to get 
  vnstat:
    image: vnstat:latest
    volumes:
      - :/var/lib/vnstat
      - ./data:/var/lib/vnstat
      - ./output:/root/output
    network_mode: host
    working_dir: /root/output
    restart: always